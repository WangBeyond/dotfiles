[user]
	name = Wang Zhuochun
	email = zhuochun@hotmail.com
[github]
	user = zhuochun
[credential]
	helper = osxkeychain
[alias]
	# commits
	aa = add -A .
	amend = commit --amend
	discard = checkout --
	unstage = reset HEAD
	uncommit = reset --soft HEAD^

	# rebase
	rc = rebase --continue
	rs = rebase --skip
	ra = rebase --abort

	# verbose output about tags, branches or remotes
	tags = tag -l
	branches = branch -a
	remotes = remote -v

	# clone a repository including all submodules
	recursive-clone = clone --recursive
	shallow-clone = clone --depth 10

	# assume unchanged on local
	local-ignore = update-index --assume-unchanged

	# Switch to a branch, creating it if necessary
	co = checkout -B
	go = checkout
	merge-branch = !git checkout master && git merge @{-1}
	master = checkout master

	# status
	s = status -s
	st = status -s

	# diff between the latest commit and the current state
	d = !"git diff-index --quiet HEAD -- || clear; git --no-pager diff --patch-with-stat"
	dc = diff --cached

	# log
	today = log --since=midnight --author='Wang Zhuochun' --oneline
	tree = log --graph --oneline --decorate --color --all
	lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
[filter "media"]
	required = true
	clean = git media clean %f
	smudge = git media smudge %f
[core]
	editor = vim
	excludesfile = ~/.gitignore
[push]
	default = simple
[rerere]
	autoupdate = true
	enabled = true

# set kaleidoscope as difftool on Mac
[difftool "Kaleidoscope"]
	cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"
[difftool]
	prompt = false
[diff]
	tool = Kaleidoscope

# set kaleidoscope as mergetool on Mac
[mergetool "Kaleidoscope"]
	cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" \"$REMOTE\"
[mergetool]
	prompt = false
[merge]
	tool = Kaleidoscope
[filter "hawser"]
	clean = git hawser clean %f
	smudge = git hawser smudge %f
	required = true
[filter "lfs"]
	clean = git lfs clean %f
	smudge = git lfs smudge %f
	required = true
